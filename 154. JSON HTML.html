<!DOCTYPE html>
<html lang="en-in">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>
            JSON HTML 
        </title>
        <style>
            body {
                font-size:calc(10px + 0.390625vw);
            }

            html {
                font-size:1rem;
                font-family:verdana, sans-serif;
                line-height:1.5;
            }

            .edit {
                background-color:#f1f1f1;
                color:red;
            }

            .edit1 {
                background-color:rgba(255,255,0,0.3);
                padding:2rem;
            }

            table {
                border:1px solid black;
                border-collapse:collapse;
                
            }
            table td {
                border:1px solid black;
                padding:0.5rem;
            }
        </style>
    </head>
    <body>
        <h1>
            JSON HTML 
        </h1>

        <div>
            JSON can very easily be translated into JavaScript. 
            <br>
            JavaScript can be used to make HTML in your web pages. 
        </div>

        <hr>

        <h2>
            HTML Table 
        </h2>

        <div>
            Make a HTML table with data received as JSON. 
            <br>
            Example:- 
            <br>
            <p id="demo1"></p>
        </div>

        <hr>

        <h2>
            Dynamic HTML Table 
        </h2>

        <div>
            Make the HTML table based on the value of a drop down menu: 
            <br>
            Example:- 
            <br>
            <select id="demo2" onchange="change_myselect(this.value)">
                <option value="">Choose an option:</option>
                <option value="customers">Customers</option>
                <option value="products">Products</option>
                <option value="suppliers">Suppliers</option>
            </select>

            <p id="demo3"></p>
        </div>

        <hr>
        <br>
        <br>
        <hr>

        <h2>
            HTML Drop Down List 
        </h2>

        <div>
            Make a HTML drop down list with data received as JSON. 
            <br>
            Example:- 
            <br>
            <p id="demo4"></p>
        </div>

        <script>
           function JSONDataTable() {
            const dbParam = JSON.stringify({table:"customers", limit:20});
            const xhttp = new XMLHttpRequest();
            xhttp.onload = function() {
                const myObj = JSON.parse(this.responseText);
                let text = "<table>";
                    for(let x in myObj) {
                        text += "<tr><td>" + myObj[x].name + "</td></tr>";
                    }
                    text += "</table>";
                    document.getElementById("demo1").innerHTML = text;
            }
            xhttp.open("POST", "https://www.w3schools.com/js/json_demo_html_table.php", true);
            xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
            xhttp.send("x=" + dbParam);
           }

           JSONDataTable();

           function change_myselect(sel) {
            const dbParam = JSON.stringify({table:sel, limit:20});
            const xhttp = new XMLHttpRequest();
            xhttp.onload = function() {
              myObj = JSON.parse(this.responseText);
              text = "<table>";
                for(x in myObj) {
                    text += "<tr><td>" + myObj[x].name + "</td></tr>";
                }
                text += "</table>";
                document.getElementById("demo3").innerHTML = text;
            }
            xhttp.open("POST", "https://www.w3schools.com/js/json_demo_html_table.php", true);
            xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
            xhttp.send("x=" + dbParam);
           }

           function dropdown() {
            const dbParam = JSON.stringify({table:"customers", limit:20});
            const xhttp = new XMLHttpRequest();
            xhttp.onload = function() {
                const myObj = JSON.parse(this.responseText);
                let text = "<select>";
                    for(let x in myObj) {
                        text += "<option>" + myObj[x].name + "</option>";
                    }
                    text += "</select>";
                    document.getElementById("demo3").innerHTML = text;
            }
            xhttp.open("POST", "json_demo_html_table.php");
            xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
            xhttp.send("x=" + dbParam);
           }

           
        </script>
    </body>
</html>